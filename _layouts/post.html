<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang }}">
  <head>
    {% include head-seo.html %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{ page.title }} - {{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: page.excerpt | strip_html | truncate: 160 }}">
    <!-- ...existing meta, og, twitter, structured data, favicon, fonts, css, analytics... -->
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ page.url | absolute_url }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Prism.js for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <!-- Post CSS -->
    <link rel="stylesheet" href="{{ '/assets/css/post.css' | relative_url }}">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MLB32YW721"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      // Initialize with denied consent
      gtag('consent', 'default', {
        'analytics_storage': 'denied'
      });
      gtag('js', new Date());
      gtag('config', 'G-MLB32YW721');
    </script>
  </head>
  
  <body>
    {% include navbar.html %}
    <main class="post-main">
      <article class="post-article">
        <div class="article-content">
          {% assign raw = content | strip %}
          {% if raw contains '<' %}
            {{ content }}
          {% else %}
            {{ content | markdownify }}
          {% endif %}
        </div>
        <footer class="article-footer">
          
        </footer>
      </article>
      <!-- ...existing navigation... -->
    </main>
    <!-- ...existing scripts/cookie banner... -->
    {% include schema-post.html %}
  </body>
</html>
